angular.module("angular-file-gallery",["ngAnimate","ngSanitize","ui.bootstrap","angularFileUpload","file-gallery-templates"]).provider("fileGallery",function(){var e=this;this.config={uploader:{url:"/",autoUpload:!1,queueLimit:99,filters:["image","maxSize"],removeAfterUpload:!0},gallery:{url:"/",pageSize:18,page:1,pageSizeParam:"page-size",pageParam:"page",filterParam:"filter",filter:{},format:function(e){return{total:e.headers("X-Pagination-Total-Count"),items:e.data}},operations:["crop","resize","reflection","grayscale"]}},this.filterConfig={message:"Error",icon:"glyphicon glyphicon-exclamation-sign",fn:function(e){return!0}},this.operationConfig={name:"Operation",icon:"glyphicon glyphicon-cog",templateUrl:"",controller:["$scope",function(e){}],params:{},operation:function(e){return e}},this.$get=["FileUploader","$http",function(t,n){function r(t){this.config=t,this.page=function(e){return t.page=e,this},this.pageSize=function(e){return t.pageSize=e,this},this.filter=function(e){return t.filter=e,this},this.fetch=function(){var r={};return r[e.config.gallery.pageSizeParam]=t.pageSize,r[e.config.gallery.filterParam]=t.filter,r[e.config.gallery.pageParam]=t.page,r=jQuery.param(r),r=-1===t.url.indexOf("?")?t.url+"?"+r:t.url+"&"+r,n.get(r).then(function(e){return t.format(e)})}}var a={},i={},l={},o=function(e){if(e in a)return a[e];throw new Error('Unknown gallery :"'+e+'"')};return angular.extend(o,{register:function(n,o){return o=angular.merge({},e.config,o),angular.forEach(o.uploader.filters,function(e,t){angular.isString(e)&&(o.uploader.filters[t]=i[e])}),angular.forEach(o.gallery.operations,function(e,t){angular.isString(e)&&(o.gallery.operations[t]=l[e])}),a[n]={uploader:new t(o.uploader),gallery:new r(o.gallery)},this},filter:function(t,n){return i[t]=angular.merge({name:t},e.filterConfig,n),this},operation:function(t,n){return l[t]=angular.merge({id:t},e.operationConfig,n),this}})}]}),angular.module("angular-file-gallery").provider("fileGalleryI18n",function(){var e={};this.load=function(t,n){e[t]||(e[t]={});for(var r in n)e[t][r]=n[r]},this.language="en";var t=this;this.$get=function(){return function(n){return e[t.language]&&e[t.language][n]?e[t.language][n]:n}}}).filter("fgI18n",["fileGalleryI18n",function(e){return function(t){return e(t)}}]),angular.module("angular-file-gallery").provider("fileGalleryModal",function(){var e=this;this.templateUrl="templates/file-gallery/modal.tpl.html",this.pickAttribute="name",this.galleryConfig={},this.uploaderConfig={},this.multiple=!0;var t=0;this.$get=["$rootScope","$uibModal","fileGallery","$q",function(n,r,a,i){return{open:function(i){i=angular.merge({},{templateUrl:e.templateUrl,pickAttribute:e.pickAttribute,gallery:e.galleryConfig,uploader:e.uploaderConfig,multiple:e.multiple},i);var l=++t+"file-gallery-modal",o=n.$new();return angular.extend(o,{name:l},i),a.register(l,{gallery:i.gallery,uploader:i.uploader}),r.open({templateUrl:i.templateUrl,scope:o,size:"lg"})}}}]}),angular.module("angular-file-gallery").run(["fileGallery","fileGalleryI18n",function(e,t){e.filter("image",{message:["file","$scope",function(e,n){return t("Invalid image format: ")+e.type+t(". Allowed: .jpg .png and .gif")}],fn:function(e,t){var n=e.type.slice(e.type.lastIndexOf("/")+1);return/png|jpg|jpeg|gif/i.test(n)}}).filter("maxSize",{message:["file","$scope",function(e,n){return t("Too big file size: ")+e.size+t(". Max size is 1MB.")}],fn:function(e,t){return e.size<=1048576}})}]),angular.module("angular-file-gallery").run(["fileGallery","fileGalleryI18n",function(e,t){e.operation("crop",{name:t("Crop"),icon:"fa fa-crop",templateUrl:"templates/file-gallery/operation/crop.tpl.html",controller:["$scope",function(e){}],params:{top:0,left:0,right:0,bottom:0},operation:function(e){this.params.top=Math.max(0,Math.min(e.height-1,this.params.top)),this.params.left=Math.max(0,Math.min(e.width-1,this.params.left)),this.params.right=Math.max(0,this.params.right),this.params.bottom=Math.max(0,this.params.bottom);var t=document.createElement("canvas"),n=t.getContext("2d"),r=Math.abs(e.width-this.params.right-this.params.left),a=Math.abs(e.height-this.params.bottom-this.params.top),i=n.createImageData(r,a);t.remove();for(var l=this.params.top,o=l+a-1,s=0;o>=l;l++)for(var g=this.params.left,c=g+r-1;c>=g;g++){var p=4*(l*e.width+g);i.data[s]=e.data[p],i.data[s+1]=e.data[p+1],i.data[s+2]=e.data[p+2],i.data[s+3]=e.data[p+3],s+=4}return i}}).operation("resize",{name:t("Resize"),icon:"fa fa-expand",templateUrl:"templates/file-gallery/operation/resize.tpl.html",controller:["$scope",function(e){}],params:{width:0,height:0,saveAspectRatio:!0},operation:function(e){this.params.width||(this.params.width=e.width),this.params.height||(this.params.height=e.height),this.params.width=Math.max(1,Math.min(e.width,+this.params.width)),this.params.height=Math.max(1,Math.min(e.height,+this.params.height));var t=e.width/e.height;this.params.saveAspectRatio&&(this.params.height=Math.round(this.params.width/t));var n=document.createElement("canvas"),r=document.createElement("canvas");n.width=e.width,n.height=e.height,n.getContext("2d").putImageData(e,0,0),r.width=this.params.width,r.height=this.params.height,r.getContext("2d").drawImage(n,0,0,r.width,r.height);var a=r.getContext("2d").getImageData(0,0,r.width,r.height);return n.remove(),r.remove(),a}}).operation("reflection",{name:t("Reflection"),icon:"fa fa-retweet",templateUrl:"templates/file-gallery/operation/reflection.tpl.html",controller:["$scope",function(e){}],params:{reflectHorizontal:!1,reflectVertical:!1},operation:function(e){var t=parseInt(e.width/2),n=parseInt(e.height/2);if(this.params.reflectHorizontal)for(var r=0;r<e.height;r++)for(var a=0;t>=a;a++){var i=4*(r*e.width+a),l=4*(r*e.width+e.width-a),o=e.data[l],s=e.data[l+1],g=e.data[l+2],c=e.data[l+3];e.data[l]=e.data[i],e.data[l+1]=e.data[i+1],e.data[l+2]=e.data[i+2],e.data[l+3]=e.data[i+3],e.data[i]=o,e.data[i+1]=s,e.data[i+2]=g,e.data[i+3]=c}if(this.params.reflectVertical)for(var r=0;n>r;r++)for(var a=0;a<=e.width;a++){var i=4*(r*e.width+a),l=4*((e.height-r)*e.width+a),o=e.data[l],s=e.data[l+1],g=e.data[l+2],c=e.data[l+3];e.data[l]=e.data[i],e.data[l+1]=e.data[i+1],e.data[l+2]=e.data[i+2],e.data[l+3]=e.data[i+3],e.data[i]=o,e.data[i+1]=s,e.data[i+2]=g,e.data[i+3]=c}return e}}).operation("grayscale",{name:t("Grayscale"),icon:"fa fa-star-half-o",templateUrl:"templates/file-gallery/operation/grayscale.tpl.html",controller:["$scope",function(e){}],params:{red:.299,green:.587,blue:.114},operation:function(e){this.params.red=Math.max(0,Math.min(1,+this.params.red)),this.params.green=Math.max(0,Math.min(1,+this.params.green)),this.params.blue=Math.max(0,Math.min(1,+this.params.blue));for(var t=0;t<e.data.length;t+=4){var n=Math.min(255,e.data[t]*this.params.red+e.data[t+1]*this.params.green+e.data[t+2]*this.params.blue);e.data[t]=e.data[t+1]=e.data[t+2]=n}return e}})}]),angular.module("angular-file-gallery").constant("fileGalleryThumbail","data:image/jpeg;base64,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").directive("fileGallery",["fileGallery","$q","$timeout","$window","fileGalleryThumbail","$injector","fileGalleryI18n",function(e,t,n,r,a,i,l){function o(e){return t(function(t,n){if(r.FileReader){var a=new FileReader;a.onloadend=function(){t(a.result)},a.readAsDataURL(e)}else n(null)})}return{restrict:"E",scope:{name:"@",pickAttribute:"@",selected:"=?"},templateUrl:"templates/file-gallery/layout.tpl.html",link:function(r,s,g){function c(){return r.pending=!0,p.page(r.page).pageSize(r.pageSize).filter(r.filter).fetch().then(function(e){return r.items=e.items,r.total=e.total,e})["finally"](function(){r.pending=!1})}var p=e(r.name).gallery,d=e(r.name).uploader;r.uploader=d,r.pending=!1,r.multiple=/^true$/i.test(g.multiple),r.selected={},r.pane="gallery",r.filter=p.config.filter,r.typeFilterOptions=[{id:"",label:l("All")},{id:"jpg",label:"Jpg"},{id:"png",label:"Png"},{id:"gif",label:"Gif"}],r.filter.type=r.typeFilterOptions[0].id,r.view="tile",r.page=p.config.page,r.pageSize=p.config.pageSize,r.items=[],r.total=0,r.resetGallery=function(){1!=r.page||r.filter.name||r.filter.type?(r.page=1,r.filter={name:"",type:""}):c()},r.$watchGroup(["filter.name","filter.type","page","pageSize"],function(e,t){e!==t&&c()},!0),r.selected=[],r.pickAttribute=r.pickAttribute||"name",r._pickedKeys={},r.pick=function(e){if(r._pickedKeys[e[r.pickAttribute]]){var t=r.selected.indexOf(e);r.selected.splice(t,1),delete r._pickedKeys[e[r.pickAttribute]]}else r.multiple||(r.selected.length=0,r._pickedKeys={}),r.selected.push(e),r._pickedKeys[e[r.pickAttribute]]=!0},d.onAfterAddingAll=function(e){r.view="tile",r.pending=!0;var n=[];angular.forEach(e,function(e){n.push(o(e._file)["catch"](function(){return e._base64=a,e}).then(function(t){return e._base64=t,e})),e.onSuccess=function(t){var n=r.items.indexOf(e);n>=0&&(r.items[n]=t)}}),t.all(n).then(function(t){r.pane="gallery",r.items=e.reverse().concat(r.items)})["finally"](function(){r.pending=!1})},d.onWhenAddingFileFailed=function(e,t){var n=t.message;(angular.isArray(n)||angular.isFunction(n))&&(n=i.invoke(n,null,{$scope:r,file:e})),r.pane="gallery",r.view="tile",e._error={icon:t.icon,message:n},r.items.unshift(e)},r.targetItem=null,r.openSettings=function(e){r.targetItem=e,r.pane="settings"},r.collapseSettings=function(){r.pane="gallery"},r.appySettings=function(e){r.pane="gallery",n(function(){r.targetItem._file=r.targetItem.file=e}),o(e)["catch"](function(){r.targetItem._base64=a}).then(function(e){r.targetItem._base64=e})},c()}}}]),angular.module("angular-file-gallery").factory("fileGalleryHelper",["$q",function(e){var t=document.createElement("canvas");return{getImageData:function(n){return e(function(e,r){window.FileReader||r();var a=new FileReader;a.onloadend=function(){var n=new Image;n.onerror=r,n.onload=function(){t.width=this.width,t.height=this.height;var r=t.getContext("2d");r.drawImage(n,0,0),e(r.getImageData(0,0,this.width,this.height))},n.src=a.result},a.onerror=r,a.readAsDataURL(n)})},dataURItoBlob:function(e){var t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var n=e.split(",")[0].split(":")[1].split(";")[0],r=new Uint8Array(t.length),a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return new Blob([r],{type:n})},imageDataToFile:function(e,n){t.width=e.width,t.height=e.height,t.getContext("2d").putImageData(e,0,0);var r=this.dataURItoBlob(t.toDataURL());return r.lastModifiedDate=new Date,r.name=n.substr(0,n.lastIndexOf("."))+".png",r},drawResponsive:function(e,t){var n,r,a,i,l=e.width/e.height;t.width<e.width||t.height<e.height?e.width<e.height?(r=t.height,n=Math.round(r*l)):(n=t.width,r=Math.round(n/l)):(n=e.width,r=e.height),a=Math.round((t.height-r)/2),i=Math.round((t.width-n)/2);var o=t.getContext("2d");o.fillStyle="rgb(0,0,0)",o.fillRect(0,0,t.width,t.height),o.drawImage(e,i,a,n,r)},putImageData:function(e,n){t.width=e.width,t.height=e.height,t.getContext("2d").putImageData(e,0,0),this.drawResponsive(t,n)}}}]).directive("fileGallerySettings",["fileGallery","fileGalleryHelper",function(e,t){return{scope:{file:"=?",gallery:"@",apply:"&"},restrict:"E",templateUrl:"templates/file-gallery/settings-pane.tpl.html",replace:!0,link:function(n,r){if(n.file){var a=r.find("canvas.fg-source-canvas")[0],i=r.find("canvas.fg-result-canvas")[0],l=r.find(".fg-preview-container").width(),o=document.createElement("canvas");n.previewSize=l,a.width=i.width=l,a.height=i.height=l,n.$watch("file",function(){t.getImageData(n.file).then(function(e){o.width=e.width,o.height=e.height,o.getContext("2d").putImageData(e,0,0),t.putImageData(e,a),n.redraw()})});var s=e(n.gallery).gallery;n.operations={all:angular.copy(s.config.operations),selected:[]};var g;n.redraw=function(){g=o.getContext("2d").getImageData(0,0,o.width,o.height),angular.forEach(n.operations.selected,function(e){e.disabled||(g=e.operation.call(e,g))}),t.putImageData(g,i)},n.make=function(){var e=t.imageDataToFile(g,n.file.name);n.apply({file:e})},n.reset=function(){n.operations.selected.length=0},n.add=function(e){n.operations.selected.push(angular.copy(e))},n.down=function(e){var t=n.operations.selected.length,r=Math.min(t-1,e+1),a=n.operations.selected[r];n.operations.selected[r]=n.operations.selected[e],n.operations.selected[e]=a},n.up=function(e){var t=Math.max(0,e-1),r=n.operations.selected[t];n.operations.selected[t]=n.operations.selected[e],n.operations.selected[e]=r},n.$watch("operations.selected",function(e,t){e!==t&&n.redraw()},!0)}}}}]),angular.module("file-gallery-templates",[]).run(["$templateCache",function(e){e.put("templates/file-gallery/layout.tpl.html",'<div class="file-gallery">\r\n	<div class="btn-toolbar panes-bar" role="toolbar" aria-label="">\r\n\r\n		<div class="btn-group btn-group-sm" role="group" aria-label="">\r\n			<button ng-disabled="pane == \'uploader\' && pending" type="button" ng-click="pane = \'gallery\';"\r\n					class="btn btn-default">\r\n				<i class="glyphicon glyphicon-picture"></i>\r\n				{{"Gallery" | fgI18n}}\r\n			</button>\r\n\r\n			<button ng-disabled="pane == \'gallery\' && pending" type="button" ng-click="pane = \'uploader\';"\r\n					class="btn btn-default">\r\n				<i class="glyphicon glyphicon-upload"></i>\r\n				{{"Upload" | fgI18n}}\r\n			</button>\r\n		</div>\r\n\r\n	</div>\r\n	<hr/>\r\n	<div class="fg-pane" ng-include="\'templates/file-gallery/_gallery-pane.tpl.html\'" ng-if="pane == \'gallery\'"></div>\r\n	<div class="fg-pane" ng-include="\'templates/file-gallery/_upload-pane.tpl.html\'" ng-if="pane == \'uploader\'"></div>\r\n	<div class="fg-pane" ng-include="\'templates/file-gallery/_settings-pane.tpl.html\'" ng-if="pane == \'settings\'"></div>\r\n\r\n</div>\r\n'),e.put("templates/file-gallery/modal.tpl.html",'<div class="modal-header">\r\n	<h3 class="modal-title">\r\n		<i class="glyphicon glyphicon-picture"></i>\r\n		{{\'File gallery\' | fgI18n}}\r\n	</h3>\r\n</div>\r\n<div class="modal-body">\r\n	<file-gallery name="{{name}}" selected="selected" multiple="{{multiple}}"\r\n				  pick-attribute="{{pickAttribute}}"></file-gallery>\r\n</div>\r\n<div class="modal-footer">\r\n	<button class="btn btn-primary" type="button" ng-show="selected.length" ng-click="$close(selected)">{{\'Pick\' | fgI18n}}</button>\r\n	<button class="btn btn-warning" type="button" ng-click="$dismiss(true)">{{\'Close\' | fgI18n}}</button>\r\n</div>\r\n'),e.put("templates/file-gallery/settings-pane.tpl.html",'<div class="fg-settings-pane">\r\n	<div class="row">\r\n		<div class="col-xs-6">\r\n			<div class="btn-group btn-group-sm" uib-dropdown>\r\n				<button id="single-button" type="button" class="btn btn-default" uib-dropdown-toggle\r\n						ng-disabled="disabled">\r\n					<i class="glyphicon glyphicon-cog"></i> {{\'Operation\' | fgI18n}} <span class="caret"></span>\r\n				</button>\r\n				<ul class="uib-dropdown-menu" role="menu" aria-labelledby="single-button">\r\n					<li role="menuitem" ng-repeat="operation in operations.all track by $index">\r\n						<a href="" ng-click="add(operation)">\r\n							<small><i class="{{operation.icon}}"></i> {{operation.name}}</small>\r\n						</a>\r\n					</li>\r\n				</ul>\r\n			</div>\r\n			<div class="btn-toolbar btn-group-sm pull-right" ng-if="operations.selected.length">\r\n				<button class="btn btn-default" uib-popover-template="\'templates/file-gallery/_reset-popover.tpl.html\'"\r\n						popover-is-open="popover"\r\n						popover-placement="right"\r\n						popover-append-to-body="true"\r\n						popover-trigger="focus">\r\n					<i class="glyphicon glyphicon-refresh"></i>\r\n					{{\'Reset\' | fgI18n}}\r\n				</button>\r\n				<button class="btn btn-warning" ng-click="make()">\r\n					<i class="glyphicon glyphicon-ok"></i>\r\n					{{\'Apply\' | fgI18n}}\r\n				</button>\r\n			</div>\r\n			<hr/>\r\n			<div class="fg-op-list-container" ng-style="{\'max-height\': previewSize + \'px\'}">\r\n				<div class="fg-op-wrapper" ng-repeat="operation in operations.selected track by $index"\r\n					 ng-include="\'templates/file-gallery/_operation.tpl.html\'"></div>\r\n			</div>\r\n		</div>\r\n		<div class="col-xs-6 fg-preview-container">\r\n			<ul class="nav nav-tabs">\r\n				<li role="presentation" ng-class="{active: source}">\r\n					<a href="" ng-click="source=true">{{\'Source\' | fgI18n}}</a>\r\n				</li>\r\n				<li role="presentation" ng-class="{active: !source}">\r\n					<a href="#" ng-click="source=false">{{\'Result\' | fgI18n}}</a>\r\n				</li>\r\n			</ul>\r\n			<br/>\r\n\r\n			<div class="tab-content">\r\n				<div role="tabpanel" class="tab-pane" ng-class="{active: source}">\r\n					<canvas class="fg-source-canvas"></canvas>\r\n				</div>\r\n				<div role="tabpanel" class="tab-pane" ng-class="{active: !source}">\r\n					<canvas class="fg-result-canvas"></canvas>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>'),e.put("templates/file-gallery/_gallery-pane.tpl.html",'<div class="fg-gallery-toolbar text-right">\r\n	<form class="form-inline">\r\n		<div class="form-group">\r\n			<input type="text" class="form-control input-sm" ng-disabled="pending" ng-model-options="{debounce: 1000}"\r\n				   placeholder="{{\'Name\' | fgI18n}}" ng-model="$parent.filter.name">\r\n		</div>\r\n		<div class="form-group">\r\n			<select class="form-control input-sm" ng-disabled="pending" ng-model="$parent.filter.type"\r\n					ng-options="option.id as option.label for option in typeFilterOptions"></select>\r\n		</div>\r\n		<button type="button" class="btn btn-default btn-sm" ng-disabled="pending" ng-click="resetGallery()"\r\n				title="{{\'Reload\' | fgI18n}}">\r\n			<i class="glyphicon glyphicon-refresh"></i>&nbsp;\r\n		</button>\r\n		<button type="button" class="btn btn-default btn-sm " ng-click="$parent.view = \'list\';"\r\n				ng-show="view == \'tile\';" title="{{\'List\' | fgI18n}}">\r\n			<i class="glyphicon glyphicon-th-list"></i>&nbsp;\r\n		</button>\r\n		<button type="button" class="btn btn-default btn-sm" ng-click="$parent.view = \'tile\';" ng-show="view == \'list\';"\r\n				title="{{\'Tile\' | fgI18n}}">\r\n			<i class="glyphicon glyphicon-th-large"></i>&nbsp;\r\n		</button>\r\n	</form>\r\n</div>\r\n<hr/>\r\n<div class="fg-gallery">\r\n	<div class="fg-pagination text-right" ng-include="\'templates/file-gallery/_pagination.tpl.html\'"></div>\r\n	<div class="fg-list-items" ng-if="view == \'list\';" ng-include="\'templates/file-gallery/_items-list.tpl.html\'"></div>\r\n	<div class="fg-list-items" ng-if="view == \'tile\';" ng-include="\'templates/file-gallery/_items-grid.tpl.html\'"></div>\r\n	<div class="fg-pagination text-right" ng-include="\'templates/file-gallery/_pagination.tpl.html\'"></div>\r\n</div>\r\n<div class="fg-picked" ng-show="selected.length">\r\n	<hr/>\r\n	<strong>{{"Picked"|fgI18n}}:</strong>\r\n	<a href title="{{\'Remove from list\' | fgI18n}}" class="fg-picked-item" ng-repeat="item in selected track by item[pickAttribute]"\r\n	   ng-style="{\'background-image\': \'url(\' + item.img + \')\'}" ng-click="pick(item)"></a>\r\n</div>\r\n'),e.put("templates/file-gallery/_items-grid.tpl.html",'<div class="row">\r\n\r\n	<div class="col-xs-4 col-sm-3 col-md-2" ng-repeat="item in items track by $index">\r\n		<div class="fg-grid-item"\r\n			 ng-click="pick(item);"\r\n			 ng-class="{selected: _pickedKeys[item[pickAttribute]]}"\r\n			 ng-if="!item._file && !item._error"\r\n			 ng-style="{\'background-image\': \'url(\' + item.img + \')\'}">\r\n			<div class="fg-grid-item-name">\r\n				{{item.name}}\r\n			</div>\r\n		</div>\r\n\r\n		<div class="fg-grid-item fg-grid-item-loading"\r\n			 ng-if="item._file && !item._error && item.isUploading"\r\n			 ng-style="{\'background-image\': \'url(\' + item._base64 + \')\'}">\r\n			<div class="progress" style="margin-bottom: 0;" ng-show="uploader.isHTML5">\r\n				<div class="progress-bar" role="progressbar" ng-style="{ \'width\': item.progress + \'%\' }"></div>\r\n			</div>\r\n			<div class="fg-grid-item-name">\r\n				{{item.file.name}}\r\n			</div>\r\n		</div>\r\n\r\n		<div class="fg-grid-item fg-grid-item-ready"\r\n			 ng-if="item._file && !item._error && !item.isUploading"\r\n			 ng-style="{\'background-image\': \'url(\' + item._base64 + \')\'}">\r\n\r\n			<div class="fg-item-toolbar clearfix">\r\n				<div class="btn-group btn-group-xs">\r\n					<button type="button" class="btn btn-default" title="{{\'Cancel\' | fgI18n}}"\r\n							ng-click="item.remove();items.splice($index, 1);">\r\n						<i class="glyphicon glyphicon-ban-circle"></i>&nbsp;\r\n					</button>\r\n					<button type="button" class="btn btn-default" title="{{\'Upload\' | fgI18n}}" ng-click="item.upload()">\r\n						<i class="glyphicon glyphicon-upload"></i>&nbsp;\r\n					</button>\r\n				</div>\r\n				<div class="btn-group btn-group-xs pull-right">\r\n					<button type="button" class="btn btn-default" title="{{\'Settings\' | fgI18n}}" ng-click="openSettings(item)">\r\n						<i class="glyphicon glyphicon-cog"></i>&nbsp;\r\n					</button>\r\n				</div>\r\n			</div>\r\n		</div>\r\n\r\n		<div class="fg-grid-item fg-grid-item-error text-center" ng-if="item._error">\r\n			<br/>\r\n\r\n			<p class="text-danger">\r\n				<i class="{{item._error.icon}}"></i> {{item._error.message}}\r\n			</p>\r\n		</div>\r\n\r\n	</div>\r\n\r\n	<div class="col-xs-12 text-center" ng-if="!items.length">\r\n		<p>\r\n			<i class="glyphicon glyphicon-picture"></i>\r\n			{{\'No images found.\' | fgI18n}}\r\n		</p>\r\n	</div>\r\n</div>\r\n'),e.put("templates/file-gallery/_items-list.tpl.html",'<table class="table table-condensed table-hover table-bordered table-stripped">\r\n	<thead>\r\n	<tr>\r\n		<th></th>\r\n		<th>{{\'Image\' | fgI18n}}</th>\r\n		<th>{{\'Name\' | fgI18n}}</th>\r\n		<th>{{\'Type\' | fgI18n}}</th>\r\n		<th>{{\'Url\' | fgI18n}}</th>\r\n	</tr>\r\n	</thead>\r\n	<tbody>\r\n	<tr ng-repeat="item in items" ng-if="!item._file && !item._error" ng-class="{\'info\': _pickedKeys[item[pickAttribute]]}">\r\n		<td class="text-left">\r\n			<a href class="text-primary" ng-click="pick(item)" ng-show="_pickedKeys[item[pickAttribute]]">\r\n				<i class="glyphicon glyphicon-check"></i>\r\n			</a>\r\n			<a href class="text-muted" ng-click="pick(item)" ng-show="!_pickedKeys[item[pickAttribute]]">\r\n				<i class="glyphicon glyphicon-unchecked"></i>\r\n			</a>\r\n		</td>\r\n		<td><img alt="{{item.name}}" class=\'img-responsive\' ng-src="{{item.img}}" style="max-height: 32px"/></td>\r\n		<td>{{item.name}}</td>\r\n		<td>{{item.type}}</td>\r\n		<td>\r\n			<a ng-href="{{item.img}}" target="_blank" title="{{item.img}}">\r\n				<i class="glyphicon glyphicon-globe"></i> {{item.img}}\r\n			</a>\r\n		</td>\r\n	</tr>\r\n	<tr ng-show="!items.length">\r\n		<td colspan="5" class="text-center">\r\n			<i class="glyphicon glyphicon-picture"></i>\r\n			{{\'No images found.\' | fgI18n}}\r\n		</td>\r\n	</tr>\r\n	</tbody>\r\n</table>\r\n'),e.put("templates/file-gallery/_operation.tpl.html",'<div class="panel panel-default">\r\n	<div class="panel-heading">\r\n		<h4 class="panel-title">\r\n			<i class="{{operation.icon}}"></i>\r\n			<span>{{operation.name}}</span>\r\n\r\n			<div class="btn-group pull-right">\r\n				<a href="" ng-click="operation.disabled=!operation.disabled">\r\n					<i class="glyphicon" ng-class="{\r\n                        \'glyphicon-unchecked text-muted\':operation.disabled,\r\n                        \'glyphicon-check\':!operation.disabled\r\n                    }"></i>\r\n				</a>\r\n				<a href="" ng-click="up($index)" ng-if="$index > 0">\r\n					<i class="glyphicon glyphicon-arrow-up"></i>\r\n				</a>\r\n				<a href="" ng-click="down($index)" ng-if="$index < operations.selected.length - 1">\r\n					<i class="glyphicon glyphicon-arrow-down"></i>\r\n				</a>\r\n				<a href="" ng-click="operations.selected.splice($index, 1)">\r\n					<i class="text-danger glyphicon glyphicon-remove-circle"></i>\r\n				</a>\r\n				<a href="" ng-click="operation.collapsed = !operation.collapsed">\r\n					<i class="glyphicon" ng-class="{\r\n                        \'glyphicon-collapse-up\':!operation.collapsed,\r\n                        \'glyphicon-collapse-down\':operation.collapsed\r\n                    }"></i>\r\n				</a>\r\n			</div>\r\n		</h4>\r\n	</div>\r\n	<div class="panel-body" ng-include="operation.templateUrl" ng-controller="operation.controller"\r\n		 ng-show="!operation.collapsed">\r\n	</div>\r\n</div>'),e.put("templates/file-gallery/_pagination.tpl.html",'<uib-pagination\r\n		ng-show="total > pageSize"\r\n		total-items="total"\r\n		items-per-page="pageSize"\r\n		ng-model="$parent.$parent.$parent.page"\r\n		max-size="4"\r\n		class="pagination-sm"\r\n		direction-links="false"\r\n		boundary-links="true"\r\n		first-text="&laquo;"\r\n		last-text="&raquo;"\r\n		ng-disabled="pending">\r\n</uib-pagination>\r\n'),e.put("templates/file-gallery/_reset-popover.tpl.html",'<div>\r\n	<h4><i class="glyphicon glyphicon-warning-sign"></i> {{\'Warning!\' | fgI18n}}</h4>\r\n\r\n	<p>{{\'Reset any changes?\' | fgI18n}}</p>\r\n\r\n	<div class="btn-toolbar btn-group-sm">\r\n		<button class="btn btn-default" ng-click="reset()">\r\n			{{\'Yes\' | fgI18n}}\r\n		</button>\r\n		<button class="btn btn-default pull-right">\r\n			{{\'No\' | fgI18n}}\r\n		</button>\r\n	</div>\r\n</div>'),e.put("templates/file-gallery/_settings-pane.tpl.html",'<h4>\r\n	<i class="glyphicon glyphicon-cog"></i>\r\n	{{\'File settings\' | fgI18n}}\r\n	<a href="" ng-click="collapseSettings()" class="btn btn-default btn-sm pull-right" title="{{\'Collapse\'|fgI18n}}">\r\n		<i class="glyphicon glyphicon-triangle-left"></i>\r\n	</a>\r\n</h4>\r\n<hr/>\r\n<file-gallery-settings gallery="{{name}}" file="targetItem._file" apply="appySettings(file)"></file-gallery-settings>'),e.put("templates/file-gallery/_upload-pane.tpl.html",'<div class="fg-dropzone-container">\r\n	<div class="fg-dropzone" nv-file-over nv-file-drop uploader="uploader">\r\n		<div class="fg-dropzone-text">\r\n			<h2>{{\'Drop files here\' | fgI18n}}</h2>\r\n\r\n			<p>{{\'or pick\' | fgI18n}}\r\n				<small><input multiple type="file" nv-file-select uploader="uploader" class="inline"/></small>\r\n			</p>\r\n		</div>\r\n	</div>\r\n</div>\r\n'),
e.put("templates/file-gallery/operation/crop.tpl.html",'<form class="form-horizontal">\r\n	<div class="row">\r\n		<div class="col-xs-6">\r\n			<div class="form-group">\r\n				<label for="fg-crop-top" class="col-sm-4 control-label">{{\'Top:\' | fgI18n}} </label>\r\n\r\n				<div class="col-sm-8">\r\n					<input type="number" ng-model="operation.params.top" ng-model-options="{debounce: 500}" step="1"\r\n						   min="0" class="form-control input-sm" id="fg-crop-top">\r\n				</div>\r\n			</div>\r\n			<div class="form-group">\r\n				<label for="fg-crop-left" class="col-sm-4 control-label">{{\'Left:\' | fgI18n}} </label>\r\n\r\n				<div class="col-sm-8">\r\n					<input type="number" ng-model="operation.params.left" ng-model-options="{debounce: 500}" step="1"\r\n						   min="0" class="form-control input-sm" id="fg-crop-left">\r\n				</div>\r\n			</div>\r\n		</div>\r\n		<div class="col-xs-6">\r\n			<div class="form-group">\r\n				<label for="fg-crop-right" class="col-sm-4 control-label">{{\'Right:\' | fgI18n}} </label>\r\n\r\n				<div class="col-sm-8">\r\n					<input type="number" ng-model="operation.params.right" ng-model-options="{debounce: 500}" step="1"\r\n						   min="0" class="form-control input-sm" id="fg-crop-right">\r\n				</div>\r\n			</div>\r\n			<div class="form-group">\r\n				<label for="fg-crop-bottom" class="col-sm-4 control-label">{{\'Bottom:\' | fgI18n}} </label>\r\n\r\n				<div class="col-sm-8">\r\n					<input type="number" ng-model="operation.params.bottom" ng-model-options="{debounce: 500}" step="1"\r\n						   min="0" class="form-control input-sm" id="fg-crop-bottom">\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</form>'),e.put("templates/file-gallery/operation/grayscale.tpl.html",'<form class="form-horizontal">\r\n	<div class="row">\r\n		<div class="col-xs-12">\r\n			<div class="form-group">\r\n				<label for="fg-grayscale-red" class="col-sm-5 control-label">{{\'Red weight:\' | fgI18n}} </label>\r\n\r\n				<div class="col-sm-4">\r\n					<input type="number" ng-model="operation.params.red" ng-model-options="{debounce: 500}" step="0.01"\r\n						   min="0.0" max="1.0" class="form-control input-sm" id="fg-grayscale-red">\r\n				</div>\r\n			</div>\r\n			<div class="form-group">\r\n				<label for="fg-grayscale-green" class="col-sm-5 control-label">{{\'Green weight:\' | fgI18n}} </label>\r\n\r\n				<div class="col-sm-4">\r\n					<input type="number" ng-model="operation.params.green" ng-model-options="{debounce: 500}"\r\n						   step="0.01" min="0.0" max="1.0" class="form-control input-sm" id="fg-grayscale-green">\r\n				</div>\r\n			</div>\r\n			<div class="form-group">\r\n				<label for="fg-grayscale-blue" class="col-sm-5 control-label">{{\'Blue weight:\' | fgI18n}} </label>\r\n\r\n				<div class="col-sm-4">\r\n					<input type="number" ng-model="operation.params.blue" ng-model-options="{debounce: 500}" step="0.01"\r\n						   min="0.0" max="1.0" class="form-control input-sm" id="fg-grayscale-blue">\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</form>'),e.put("templates/file-gallery/operation/reflection.tpl.html",'<form class="form-horizontal">\r\n	<div class="row">\r\n		<div class="col-xs-12">\r\n			<label class="col-sm-8">\r\n				<input type="checkbox" ng-model="operation.params.reflectHorizontal"/>\r\n				{{\'Reflect horizontal\' | fgI18n}}\r\n			</label>\r\n			<label class="col-sm-8">\r\n				<input type="checkbox" ng-model="operation.params.reflectVertical"/>\r\n				{{\'Reflect vertical\' | fgI18n}}\r\n			</label>\r\n		</div>\r\n	</div>\r\n</form>'),e.put("templates/file-gallery/operation/resize.tpl.html",'<form class="form-horizontal">\r\n	<div class="row">\r\n		<div class="col-xs-6">\r\n			<div class="form-group">\r\n				<label class="col-sm-12 control-label">\r\n					<input type="checkbox" ng-model="operation.params.saveAspectRatio"/>\r\n					{{\'Save orientation\' | fgI18n}}\r\n				</label>\r\n			</div>\r\n		</div>\r\n		<div class="col-xs-6">\r\n			<div class="form-group">\r\n				<label for="fg-resize-width" class="col-sm-4 control-label">{{\'Width:\' | fgI18n}} </label>\r\n\r\n				<div class="col-sm-8">\r\n					<input type="number" ng-model="operation.params.width" ng-model-options="{debounce: 500}" step="1"\r\n						   min="0" class="form-control input-sm" id="fg-resize-right">\r\n				</div>\r\n			</div>\r\n			<div class="form-group">\r\n				<label for="fg-resize-height" class="col-sm-4 control-label">{{\'Height:\' | fgI18n}} </label>\r\n\r\n				<div class="col-sm-8">\r\n					<input type="number" ng-model="operation.params.height" ng-model-options="{debounce: 500}" step="1"\r\n						   min="0" class="form-control input-sm" id="fg-resize-height">\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</form>')}]);